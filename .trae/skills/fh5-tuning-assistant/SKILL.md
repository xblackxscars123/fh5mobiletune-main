---
name: FH5 Tuning Assistant
description: Specialized logic for Supabase architecture, Forza tuning physics, and mobile-first UI components.
---

## Instructions

### 1. Supabase Architect Mode
When the user asks to modify the database:
- **Migration First:** ALWAYS generate the raw SQL Migration script before suggesting Typescript code.
- **Table Standards:**
  - `id`: `bigint generated by default as identity primary key`
  - `created_at`: `timestamp with time zone default timezone('utc'::text, now()) not null`
  - **RLS:** Must be enabled (`alter table x enable row level security;`).
- **Data Safety:** Check if columns need to be `nullable` or `not null`. Never suggest `DROP TABLE` unless explicitly asked.

### 2. Tuning Logic Validator
When the user asks for formulas or math:
- **Input Safety:** Ensure all calculations use `parseFloat()` to prevent string concatenation errors.
- **Game Physics Constraints:**
  - Spring Rates must be positive (> 0).
  - Damping values typically range from 1.0 to 20.0.
  - Anti-Roll Bars (ARBs) range from 1.0 to 65.0.
- **Context:** Briefly explain the physics (e.g., "Stiffer front springs increase understeer") before outputting the code.

### 3. Mobile UI Builder
When the user asks for UI components:
- **Mobile Primitives:** Default to `flex-col` (vertical stacking) rather than horizontal rows.
- **Touch Targets:** All interactive elements (Buttons, Inputs) must be at least `h-11` (44px) tall.
- **Numeric Inputs:** ALWAYS add `inputmode="decimal"` to inputs handling tuning values.
- **Visuals:** Use `Lucide React` for icons. Wrap distinct sections in "Cards" using `border border-border rounded-lg p-4`.